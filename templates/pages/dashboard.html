{{define "dashboard.html"}}
{{template "base" .}}
{{end}}

{{define "content"}}
{{if .Error}}
<div class="alert alert-error">{{.Error}}</div>
{{end}}

<section class="info-grid">
  <div class="info-card">
    <h2>System Information</h2>
    <table class="info-table">
      {{if .Hostname}}<tr><th>Hostname</th><td>{{.Hostname}}</td></tr>{{end}}
      {{if .OSName}}<tr><th>OS</th><td>{{.OSName}} {{.OSVersion}}</td></tr>{{end}}
      {{if .Machine}}<tr><th>Architecture</th><td>{{.Machine}}</td></tr>{{end}}
      {{if .Firmware}}<tr><th>Firmware</th><td>{{.Firmware}}</td></tr>{{end}}
      {{if .Uptime}}<tr><th>Uptime</th><td>{{.Uptime}}</td></tr>{{end}}
    </table>
  </div>

  <div class="info-card">
    <h2>Resources</h2>
    <table class="info-table">
      {{if .MemTotal}}
      <tr>
        <th>Memory</th>
        <td>{{.MemUsed}} / {{.MemTotal}} MiB ({{.MemPercent}}%)</td>
      </tr>
      {{end}}
      {{if .Load1}}
      <tr>
        <th>Load Average</th>
        <td>{{.Load1}}, {{.Load5}}, {{.Load15}}</td>
      </tr>
      {{end}}
    </table>
  </div>

  {{if .Board.Model}}
  <div class="info-card">
    <h2>Hardware</h2>
    <table class="info-table">
      {{if .Board.Model}}<tr><th>Model</th><td>{{.Board.Model}}</td></tr>{{end}}
      {{if .Board.Manufacturer}}<tr><th>Manufacturer</th><td>{{.Board.Manufacturer}}</td></tr>{{end}}
      {{if .Board.SerialNum}}<tr><th>Serial Number</th><td>{{.Board.SerialNum}}</td></tr>{{end}}
      {{if .Board.HardwareRev}}<tr><th>Hardware Rev</th><td>{{.Board.HardwareRev}}</td></tr>{{end}}
      {{if .Board.BaseMAC}}<tr><th>Base MAC</th><td>{{.Board.BaseMAC}}</td></tr>{{end}}
      {{if .Sensors}}
      {{range .Sensors}}
      <tr><th>{{.Name}}</th><td>{{.Value}}</td></tr>
      {{end}}
      {{end}}
    </table>
  </div>
  {{end}}
</section>

{{if .Disks}}
<section class="info-card">
  <h2>Disk Usage</h2>
  <table class="disk-table">
    <thead>
      <tr>
        <th>Mount</th>
        <th>Size</th>
        <th>Used</th>
        <th>Available</th>
        <th>Use%</th>
      </tr>
    </thead>
    <tbody>
      {{range .Disks}}
      <tr>
        <td>{{.Mount}}</td>
        <td>{{.Size}}</td>
        <td>{{.Used}}</td>
        <td>{{.Available}}</td>
        <td>{{.Percent}}%</td>
      </tr>
      {{end}}
    </tbody>
  </table>
</section>
{{end}}
{{end}}
